function a0_0x5be2(){const _0x51963a=['data','766886VCuetm','../lib/enviarParaDify','get','answer','toLocaleTimeString','Por\x20favor,\x20diga\x20o\x20que\x20quer\x20buscar.\x20Ex:\x20buscar:\x20quem\x20fez\x20o\x20Beroso','\x0a|->\x20Mensagem:\x20','934f28c26c5554297','map','2886966sGcJhm','ðŸ”¸\x20*','3DRwBOH','slice','title','ðŸ¤–\x20(sem\x20resposta\x20da\x20IA)','error','ðŸ¤–\x20NÃ£o\x20consegui\x20gerar\x20um\x20resumo.','snippet','startsWith','length','reply','log','items','axios','create','9HDZHnA','12344PJAUYp','76980AnJQrs','AIzaSyCfNzgt3Y8V_2uXDQKOcY3zxImUuIHBHBc','12090570YzErTW','findOne','toLowerCase','\x0a===================================\x0a\x20\x20','trim','\x0a\x20\x20\x20\x20','\x0a|->\x20Data:\x20','\x0a|->\x20NÃºmero:\x20','1204mszKOp','join','../models/Conversa','\x0aBaseando-se\x20nas\x20informaÃ§Ãµes\x20abaixo\x20da\x20busca\x20no\x20Google,\x20gere\x20um\x20resumo\x20claro\x20e\x20direto\x20sobre:\x20*','conversation_id','...','Erro\x20na\x20busca\x20Google:','1848708EtYUly','212392IMoJhD','link','pushName'];a0_0x5be2=function(){return _0x51963a;};return a0_0x5be2();}const a0_0x56b8ab=a0_0x16a9;function a0_0x16a9(_0xc98dc8,_0x416e2c){const _0x5be23c=a0_0x5be2();return a0_0x16a9=function(_0x16a97c,_0x3283cc){_0x16a97c=_0x16a97c-0x89;let _0x3d5940=_0x5be23c[_0x16a97c];return _0x3d5940;},a0_0x16a9(_0xc98dc8,_0x416e2c);}(function(_0x18d2f2,_0x24e356){const _0x2f38f5=a0_0x16a9,_0xa280c1=_0x18d2f2();while(!![]){try{const _0xaa467a=-parseInt(_0x2f38f5(0x95))/0x1+-parseInt(_0x2f38f5(0x99))/0x2*(parseInt(_0x2f38f5(0xa4))/0x3)+-parseInt(_0x2f38f5(0x94))/0x4+-parseInt(_0x2f38f5(0xb4))/0x5+parseInt(_0x2f38f5(0xa2))/0x6+-parseInt(_0x2f38f5(0x8d))/0x7*(parseInt(_0x2f38f5(0xb3))/0x8)+-parseInt(_0x2f38f5(0xb2))/0x9*(-parseInt(_0x2f38f5(0xb6))/0xa);if(_0xaa467a===_0x24e356)break;else _0xa280c1['push'](_0xa280c1['shift']());}catch(_0x2abd7a){_0xa280c1['push'](_0xa280c1['shift']());}}}(a0_0x5be2,0x55cb6));const enviarParaDify=require(a0_0x56b8ab(0x9a)),Conversa=require(a0_0x56b8ab(0x8f)),axios=require(a0_0x56b8ab(0xb0)),apiKey=a0_0x56b8ab(0xb5),cseId=a0_0x56b8ab(0xa0);async function googleSearch(_0x3b64d7){const _0x176e14=a0_0x56b8ab;try{const _0x4f9208=await axios[_0x176e14(0x9b)]('https://www.googleapis.com/customsearch/v1',{'params':{'key':apiKey,'cx':cseId,'q':_0x3b64d7,'num':0x3}});if(_0x4f9208[_0x176e14(0x98)][_0x176e14(0xaf)])return _0x4f9208[_0x176e14(0x98)][_0x176e14(0xaf)]['map'](_0x889d3e=>({'title':_0x889d3e['title'],'link':_0x889d3e['link'],'snippet':_0x889d3e[_0x176e14(0xaa)]}));return[];}catch(_0x26f7cc){return console[_0x176e14(0xa8)](_0x176e14(0x93),_0x26f7cc['message']),[];}}module['exports']=async function handleTextMessage(_0xd3d7a6,_0x41c8ea,_0x311219){const _0x57f946=a0_0x56b8ab,_0x52c7c5=_0x311219[_0x57f946(0xac)]>0x2d?_0x311219[_0x57f946(0xa5)](0x0,0x2d)+_0x57f946(0x92):_0x311219,_0x1cd1be=_0xd3d7a6[_0x57f946(0x97)];console[_0x57f946(0xae)]('\x0a=========\x20Tina\x20IA\x20(Texto)\x20=========\x0a|->\x20Usuario:\x20'+_0x1cd1be+_0x57f946(0x8c)+_0x41c8ea+_0x57f946(0x9f)+_0x52c7c5+'\x0a|->\x20Hora:\x20'+new Date()[_0x57f946(0x9d)]()+_0x57f946(0x8b)+new Date()['toLocaleDateString']()+_0x57f946(0xb9));if(_0x311219[_0x57f946(0xb8)]()[_0x57f946(0xab)]('buscar:')){const _0x1b0bed=_0x311219[_0x57f946(0xa5)](0x7)[_0x57f946(0x89)]();if(!_0x1b0bed)return await _0xd3d7a6[_0x57f946(0xad)](_0x57f946(0x9e));const _0x53ba6b=await googleSearch(_0x1b0bed);if(_0x53ba6b[_0x57f946(0xac)]===0x0)return await _0xd3d7a6[_0x57f946(0xad)]('NÃ£o\x20encontrei\x20resultados\x20para\x20sua\x20busca.');const _0x161fa5=_0x53ba6b[_0x57f946(0xa1)](_0x5df69b=>_0x57f946(0xa3)+_0x5df69b[_0x57f946(0xa6)]+'*\x0a'+_0x5df69b[_0x57f946(0xaa)]+'\x0aðŸ”—\x20'+_0x5df69b[_0x57f946(0x96)])[_0x57f946(0x8e)]('\x0a\x0a'),_0x3dfb40=_0x57f946(0x90)+_0x1b0bed+'*.\x20Use\x20linguagem\x20natural\x20e\x20cite\x20os\x20dados\x20importantes.\x0a\x0a'+_0x161fa5+_0x57f946(0x8a);let _0x33dc2a=await Conversa[_0x57f946(0xb7)]({'numero':_0x41c8ea});const _0x55c858=await enviarParaDify(_0x3dfb40,_0x41c8ea,_0x33dc2a?.[_0x57f946(0x91)]);return!_0x33dc2a&&_0x55c858[_0x57f946(0x91)]&&await Conversa[_0x57f946(0xb1)]({'numero':_0x41c8ea,'conversation_id':_0x55c858[_0x57f946(0x91)]}),_0x33dc2a&&_0x55c858[_0x57f946(0x91)]&&_0x55c858[_0x57f946(0x91)]!==_0x33dc2a[_0x57f946(0x91)]&&(_0x33dc2a[_0x57f946(0x91)]=_0x55c858[_0x57f946(0x91)],await _0x33dc2a['save']()),await _0xd3d7a6['reply'](_0x55c858[_0x57f946(0x9c)]||_0x57f946(0xa9));}let _0x5c6852=await Conversa[_0x57f946(0xb7)]({'numero':_0x41c8ea});const _0x515acd=await enviarParaDify(_0x311219,_0x41c8ea,_0x5c6852?.[_0x57f946(0x91)]);!_0x5c6852&&_0x515acd['conversation_id']&&await Conversa[_0x57f946(0xb1)]({'numero':_0x41c8ea,'conversation_id':_0x515acd[_0x57f946(0x91)]}),_0x5c6852&&_0x515acd[_0x57f946(0x91)]&&_0x515acd[_0x57f946(0x91)]!==_0x5c6852[_0x57f946(0x91)]&&(_0x5c6852[_0x57f946(0x91)]=_0x515acd['conversation_id'],await _0x5c6852['save']()),await _0xd3d7a6[_0x57f946(0xad)](_0x515acd[_0x57f946(0x9c)]||_0x57f946(0xa7));};
