function a0_0x5cdc(){const _0x17b253=['mp3','conversation_id','1929591dmuwEA','🎧\x20Transcrição\x20(','path','7PQDsye','exports','69qCzhjf','.mp3','.ogg','save','data','fluent-ffmpeg','log','20656xMZCuw','❌\x20Erro\x20ao\x20processar\x20áudio:','create','replace','../tina/bin/python3','1233730zYyyKJ','../lib/enviarParaDify','):\x20','❌\x20Não\x20consegui\x20entender\x20o\x20áudio.','toFormat','59338TntJox','❌\x20Erro\x20na\x20transcrição:','8BILVxs','❌\x20Erro\x20ao\x20baixar\x20o\x20áudio.','758808eiqXPz','now','join','writeFileSync','answer','transcribe.py','🤖\x20(sem\x20resposta\x20da\x20IA)','119862lARkDV','reply','3103320LKeeLw','trim','❌\x20Erro\x20ao\x20processar\x20seu\x20áudio.','end','error'];a0_0x5cdc=function(){return _0x17b253;};return a0_0x5cdc();}function a0_0x2eb5(_0x63c6c3,_0x43378b){const _0x5cdc09=a0_0x5cdc();return a0_0x2eb5=function(_0x2eb5be,_0x338d29){_0x2eb5be=_0x2eb5be-0x7d;let _0x3ea425=_0x5cdc09[_0x2eb5be];return _0x3ea425;},a0_0x2eb5(_0x63c6c3,_0x43378b);}const a0_0x43aa39=a0_0x2eb5;(function(_0x310fe8,_0x6f8c52){const _0xd9a1d9=a0_0x2eb5,_0x2da65f=_0x310fe8();while(!![]){try{const _0x4be198=parseInt(_0xd9a1d9(0x9d))/0x1+-parseInt(_0xd9a1d9(0x93))/0x2*(-parseInt(_0xd9a1d9(0x8c))/0x3)+parseInt(_0xd9a1d9(0xa1))/0x4+-parseInt(_0xd9a1d9(0x98))/0x5+parseInt(_0xd9a1d9(0x7e))/0x6*(-parseInt(_0xd9a1d9(0x8a))/0x7)+-parseInt(_0xd9a1d9(0x9f))/0x8*(-parseInt(_0xd9a1d9(0x87))/0x9)+-parseInt(_0xd9a1d9(0x80))/0xa;if(_0x4be198===_0x6f8c52)break;else _0x2da65f['push'](_0x2da65f['shift']());}catch(_0x119706){_0x2da65f['push'](_0x2da65f['shift']());}}}(a0_0x5cdc,0x1e418));const fs=require('fs'),path=require(a0_0x43aa39(0x89)),ffmpeg=require(a0_0x43aa39(0x91)),{execFile}=require('child_process'),Conversa=require('../models/Conversa'),enviarParaDify=require(a0_0x43aa39(0x99));module[a0_0x43aa39(0x8b)]=async function handleAudioMessage(_0x1d87f8,_0x12e9f0){const _0x349b66=a0_0x43aa39;try{const _0x23e3d7=await _0x1d87f8['downloadMedia']();if(!_0x23e3d7){await _0x1d87f8[_0x349b66(0x7f)](_0x349b66(0xa0));return;}const _0x52270a=Date[_0x349b66(0xa2)](),_0x53d6b9=path[_0x349b66(0xa3)](__dirname,'../audios'),_0x1a0991=path[_0x349b66(0xa3)](_0x53d6b9,_0x52270a+_0x349b66(0x8e)),_0x322056=_0x1a0991[_0x349b66(0x96)]('.ogg',_0x349b66(0x8d));fs['mkdirSync'](_0x53d6b9,{'recursive':!![]}),fs[_0x349b66(0xa4)](_0x1a0991,Buffer['from'](_0x23e3d7[_0x349b66(0x90)],'base64')),await new Promise((_0x51ad73,_0xad45ee)=>{const _0x2a37db=_0x349b66;ffmpeg(_0x1a0991)[_0x2a37db(0x9c)](_0x2a37db(0x85))[_0x2a37db(0x8f)](_0x322056)['on'](_0x2a37db(0x83),_0x51ad73)['on'](_0x2a37db(0x84),_0xad45ee);});const _0x267953=path[_0x349b66(0xa3)](__dirname,_0x349b66(0x97));execFile(_0x267953,[_0x349b66(0xa6),_0x322056],async(_0x32ff34,_0x159952,_0x565cfb)=>{const _0x50bafb=_0x349b66;if(_0x32ff34){console[_0x50bafb(0x84)](_0x50bafb(0x9e),_0x565cfb),await _0x1d87f8[_0x50bafb(0x7f)](_0x50bafb(0x9b));return;}const _0x42b35d=_0x159952[_0x50bafb(0x81)]();console[_0x50bafb(0x92)](_0x50bafb(0x88)+_0x12e9f0+_0x50bafb(0x9a)+_0x42b35d);let _0x21e2f8=await Conversa['findOne']({'numero':_0x12e9f0});const _0x458783=await enviarParaDify(_0x42b35d,_0x12e9f0,_0x21e2f8);!_0x21e2f8&&_0x458783['conversation_id']&&await Conversa[_0x50bafb(0x95)]({'numero':_0x12e9f0,'conversation_id':_0x458783[_0x50bafb(0x86)]}),_0x21e2f8&&_0x458783[_0x50bafb(0x86)]&&_0x458783[_0x50bafb(0x86)]!==_0x21e2f8['conversation_id']&&(_0x21e2f8['conversation_id']=_0x458783[_0x50bafb(0x86)],await _0x21e2f8[_0x50bafb(0x8f)]()),await _0x1d87f8['reply'](_0x458783[_0x50bafb(0xa5)]||_0x50bafb(0x7d));});}catch(_0x138e6a){console[_0x349b66(0x84)](_0x349b66(0x94),_0x138e6a),await _0x1d87f8[_0x349b66(0x7f)](_0x349b66(0x82));}};